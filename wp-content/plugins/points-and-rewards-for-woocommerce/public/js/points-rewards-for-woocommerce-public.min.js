!function (o) { "use strict"; o(document).ready(function () { var r = document.querySelectorAll("button"); new ClipboardJS(r); o(".mwb_wpr_level_benefits").click(function () { var r = o(this).data("id"); jQuery("#mwb_wpr_popup_wrapper_" + r).css("display", "block"), jQuery(".mwb_wpr_close").click(function () { jQuery("#mwb_wpr_popup_wrapper_" + r).css("display", "none") }) }), o(document).on("click", ".mwb_wpr_common_slider", function () { o(this).siblings(".mwb_wpr_common_table").slideToggle("fast"), o(this).children(".mwb_wpr_open_toggle").toggleClass("mwb_wpr_plus_icon") }), o(document).on("click", "#mwb_cart_points_apply", function () { var r = o(this).data("id"), e = o(this).data("point"), n = "", _ = "", m = (mwb_wpr.mwb_wpr_cart_points_rate, mwb_wpr.mwb_wpr_cart_price_rate, o("#mwb_cart_points").val()); if (o("#mwb_wpr_cart_points_notice").html(""), o("mwb_wpr_cart_points_success").html(""), "undefined" !== m && "" !== m && null !== m && m > 0) if (null !== e && e > 0 && e >= m) { c(o(".woocommerce-cart-form")), c(o(".woocommerce-checkout")); var a = { action: "mwb_wpr_apply_fee_on_cart_subtotal", user_id: r, mwb_cart_points: m, mwb_nonce: mwb_wpr.mwb_wpr_nonce }; o.ajax({ url: mwb_wpr.ajaxurl, type: "POST", data: a, dataType: "json", success: function (r) { 1 == r.result ? (n = r.message, _ = n, o("#mwb_wpr_cart_points_success").html(_), o("#mwb_wpr_cart_points_success").show()) : (n = r.message, _ = n, o("#mwb_wpr_cart_points_notice").html(_), o("#mwb_wpr_cart_points_notice").show()) }, complete: function () { t(o(".woocommerce-cart-form")), t(o(".woocommerce-cart-form")), location.reload() } }) } else if (o(".woocommerce-cart-form").offset()) { o("html, body").animate({ scrollTop: o(".woocommerce-cart-form").offset().top }, 800); var s = '<ul class="woocommerce-error" role="alert"><li>' + mwb_wpr.not_suffient + "</li></ul>"; o(s).insertBefore(o(".woocommerce-cart-form")) } else { o("html, body").animate({ scrollTop: o(".custom_point_checkout").offset().top }, 800); s = '<ul class="woocommerce-error" role="alert"><li>' + mwb_wpr.not_suffient + "</li></ul>"; o(s).insertBefore(o(".custom_point_checkout")) } }), o(document).on("click", "#mwb_wpr_remove_cart_point", function () { c(o(".woocommerce-cart-form")); var r = { action: "mwb_wpr_remove_cart_point", mwb_nonce: mwb_wpr.mwb_wpr_nonce }; o.ajax({ url: mwb_wpr.ajaxurl, type: "POST", data: r, dataType: "json", success: function (r) { 1 == r.result && o("#mwb_cart_points").val("") }, complete: function () { t(o(".woocommerce-cart-form")), location.reload() } }) }); var c = function (o) { e(o) || o.addClass("processing").block({ message: null, overlayCSS: { background: "#fff", opacity: .6 } }) }, e = function (o) { return o.is(".processing") || o.parents(".processing").length }, t = function (o) { o.removeClass("processing").unblock() }; o(document).on("click", "#mwb_wpr_upgrade_level_click", function () { confirm(mwb_wpr.confirmation_msg) && o(document).find("#mwb_wpr_upgrade_level").click() }) }) }(jQuery);