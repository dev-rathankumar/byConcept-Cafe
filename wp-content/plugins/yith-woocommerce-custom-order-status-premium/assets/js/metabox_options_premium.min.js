jQuery(function(e){e(".yith-wccos-color-picker").wpColorPicker(),e("#edit-slug-box").hide(),e("#preview-action").hide();var t=function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t=yith_wccos_params.slug_from,a=yith_wccos_params.slug_to,c=0,i=t.length;c<i;c++)e=e.replace(new RegExp(t.charAt(c),"g"),a.charAt(c));return 1<=(e=e.replace(new RegExp(yith_wccos_params.slug_allowed,"g"),"").replace(/\s+/g,"-").replace(/-+/g,"-")).length?e.substr(0,17):e},a=e("#slug"),c=e("#title"),i=e("#status_type"),n=!0,r=e("#recipients"),o=e("#mail-settings-info").parent(),s=e("li.tabs").next(),l=e("#custom_recipient-container").parent(),h=e("#can-pay"),d=e("#can-cancel"),p=e("#downloads-permitted"),g=e("#display-in-reports"),u=(e("#nextactions"),function(){"custom"!==i.val()?(s.hide(),o.show(),r.val("")):(s.show(),o.hide()),r.val()&&-1!==r.val().indexOf("custom-email")?l.show():l.hide()}),v=function(){switch(h.attr("checked",!1),d.attr("checked",!1),p.attr("checked",!1),g.attr("checked",!1),a.val()){case"pending":case"failed":h.attr("checked",!0),d.attr("checked",!0);break;case"completed":case"processing":p.attr("checked",!0),g.attr("checked",!0);break;case"on-hold":g.attr("checked",!0)}};e(".yith-wccos-select2").select2({width:"100%"}),a.val().length<1?(0<c.val().length&&(a.val(t(c.val())),a.trigger("change")),c.on("keyup",function(){n&&(a.val(t(c.val())),a.trigger("change"))})):(n=!1,i.parent().css({position:"relative"}).append('<div style="position:absolute; width:100%; height:100%; z-index: 10;background: rgba(255,255,255,0.6);top:0;left:0;"></div>'),a.prop("readonly",!0)),a.on("keyup",function(){var e=t(a.val());e!==a.val()&&a.val(e)}),a.on("change keyup",function(){e(this).val().length<1?e(this).addClass("yith-wccos-required-field"):e(this).removeClass("yith-wccos-required-field")}).trigger("change"),i.on("change",function(){"custom"===e(this).val()?(n=!0,a.val(t(c.val())),a.prop("readonly",!1)):(n=!1,a.val(e(this).val()),a.prop("readonly",!0)),a.trigger("change"),u(),v()}),"custom"!==i.val()?r.parent().hide():o.hide(),u(),r.on("change",function(){u()})});