!function(t,a,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?window.module.exports=t(window.require("jquery")):t(a||e)}(function(t){"use strict";var a,e=window.JSON,n=function(a,e,n){var s,o,r=this,i={invalid:[],getCaret:function(){var t,e,n,s,o=0;try{return e=a.get(0),n=document.selection,s=e.selectionStart,n&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=n.createRange()).moveStart("character",-i.val().length),o=t.text.length):(s||"0"===s)&&(o=s),o}catch(t){window.console.log(t)}},setCaret:function(t){var e,n;try{a.is(":focus")&&((n=a.get(0)).setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){window.console.log(t)}},events:function(){a.on("keydown.mask",function(t){a.data("mask-keycode",t.keyCode||t.which),a.data("mask-previus-value",a.val()),a.data("mask-previus-caret-pos",i.getCaret()),i.maskDigitPosMapOld=i.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)}).on("change.mask",function(){a.data("changed",!0)}).on("blur.mask",function(){o===i.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)}).on("blur.mask",function(){o=i.val()}).on("focus.mask",function(a){!0===n.selectOnFocus&&t(a.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(i.val())&&i.val("")})},getRegexMask:function(){var t,a,n,s,o,i,l,c=[];for(l=0;l<e.length;l+=1)(t=r.translation[e.charAt(l)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(s=t.recursive)?(c.push(e.charAt(l)),o={digit:e.charAt(l),pattern:a}):c.push(n||s?a+"?":a)):c.push(e.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return i=c.join(""),o&&(i=i.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(i)},destroyEvents:function(){a.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e,n=a.is("input")?"val":"text";return arguments.length>0?(a[n]()!==t&&a[n](t),e=a):e=a[n](),e},calculateCaretPosition:function(){var t,e,n,s,o=a.data("mask-previus-value")||"",r=i.getMasked(),l=i.getCaret(),c=0,u=0,k=0,d=0,p=0;if(o!==r){for(t=a.data("mask-previus-caret-pos")||0,e=r.length,n=o.length,p=l;p<e&&i.maskDigitPosMap[p];p+=1)u+=1;for(p=l-1;p>=0&&i.maskDigitPosMap[p];p-=1)c+=1;for(p=l-1;p>=0;p-=1)i.maskDigitPosMap[p]&&(k+=1);for(p=t-1;p>=0;p-=1)i.maskDigitPosMapOld[p]&&(d+=1);l>n?l=10*e:t>=l&&t!==n?i.maskDigitPosMapOld[l]||(s=l,l-=d-k,l-=c,i.maskDigitPosMap[l]&&(l=s)):l>t&&(l+=k-d,l+=u)}return l},behaviour:function(e){var n,s,o=a.data("mask-keycode");if(e=e||window.event,i.invalid=[],-1===t.inArray(o,r.byPassKeys))return n=i.getMasked(),s=i.getCaret(),setTimeout(function(){i.setCaret(i.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),i.val(n),i.setCaret(s),i.callbacks(e)},getMasked:function(t,a){var s,o,l,c,u,k,d,p,f=[],h=void 0===a?i.val():a+"",g=0,v=e.length,m=0,M=h.length,y=1,w="push",b=-1,C=0,j=[];for(n.reverse?(w="unshift",y=-1,s=0,g=v-1,m=M-1,o=function(){return g>-1&&m>-1}):(s=v-1,o=function(){return g<v&&m<M});o();)c=e.charAt(g),u=h.charAt(m),(k=r.translation[c])?(u.match(k.pattern)?(f[w](u),k.recursive&&(-1===b?b=g:g===s&&g!==b&&(g=b-y),s===b&&(g-=y)),g+=y):u===l?(C-=1,l=void 0):k.optional?(g+=y,m-=y):k.fallback?(f[w](k.fallback),g+=y,m-=y):i.invalid.push({p:m,v:u,e:k.pattern}),m+=y):(t||f[w](c),u===c?(j.push(m),m+=y):(l=c,j.push(m+C),C+=1),g+=y);return d=e.charAt(s),v!==M+1||r.translation[d]||f.push(d),p=f.join(""),i.mapMaskdigitPositions(p,j,M),p},mapMaskdigitPositions:function(t,a,e){var s,o=n.reverse?t.length-e:0;for(i.maskDigitPosMap={},s=0;s<a.length;s+=1)i.maskDigitPosMap[a[s]+o]=1},callbacks:function(t){var s=i.val(),r=s!==o,l=[s,t,a,n],c=function(t,a,e){"function"==typeof n[t]&&a&&n[t].apply(this,e)};c("onChange",!0===r,l),c("onKeyPress",!0===r,l),c("onComplete",s.length===e.length,l),c("onInvalid",i.invalid.length>0,[s,t,a,i.invalid,n])}};a=t(a),o=i.val(),e="function"==typeof e?e(i.val(),void 0,a,n):e,r.mask=e,r.options=n,r.remove=function(){var t=i.getCaret();return r.options.placeholder&&a.removeAttr("placeholder"),a.data("mask-maxlength")&&a.removeAttr("maxlength"),i.destroyEvents(),i.val(r.getCleanVal()),i.setCaret(t),a},r.getCleanVal=function(){return i.getMasked(!0)},r.getMaskedVal=function(t){return i.getMasked(!1,t)},r.init=function(o){var l,c,u,k;if(o=o||!1,n=n||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,n.translation),r=t.extend(!0,{},r,n),s=i.getRegexMask(),o)i.events(),i.val(i.getMasked());else{for(n.placeholder&&a.attr("placeholder",n.placeholder),a.data("mask")&&a.attr("autocomplete","off"),l=0,k=!0;l<e.length;l+=1)if((c=r.translation[e.charAt(l)])&&c.recursive){k=!1;break}k&&a.attr("maxlength",e.length).data("mask-maxlength",!0),i.destroyEvents(),i.events(),u=i.getCaret(),i.val(i.getMasked()),i.setCaret(u)}},r.init(!a.is("input"))},s=function(a,n,s){var o=t(a).data("mask"),r=e.stringify,i=t(a).val()||t(a).text();s=s||{};try{return"function"==typeof n&&(n=n(i)),"object"!=typeof o||r(o.options)!==r(s)||o.mask!==n}catch(t){window.console.log(t)}},o=function(){var a=t(this),e={},o=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(e.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),s(a,o,e))return a.data("mask",new n(this,o,e))};t.maskWatchers={},t.fn.mask=function(a,e){var o,r,i=this.selector,l=t.jMaskGlobals,c=l.watchInterval;return e=e||{},o=e.watchInputs||l.watchInputs,r=function(){if(s(this,a,e))return t(this).data("mask",new n(this,a,e))},t(this).each(r),i&&""!==i&&o&&(clearInterval(t.maskWatchers[i]),t.maskWatchers[i]=setInterval(function(){t(document).find(i).each(r)},c)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var a=t(this).data("mask");a&&a.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(a){((a=a||t.jMaskGlobals.maskElements)instanceof t?a:t(a)).filter(t.jMaskGlobals.dataMaskAttr).each(o)},a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&function(t){var a,e=document.createElement("div");return t="on"+t,(a=t in e)||(e.setAttribute(t,"return;"),a="function"==typeof e[t]),e=null,a}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(a=t.jMaskGlobals=t.extend(!0,{},a,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto);