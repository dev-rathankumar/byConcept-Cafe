"use strict";!function(n,t,i,e){var s=function(e,s){this.elem=e,this.$elem=n(e),this.options=s,this.metadata=this.$elem.data("plugin-options"),this.$win=n(t),this.sections={},this.didScroll=!1,this.$doc=n(i),this.docHeight=this.$doc.height()};s.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){return this.config=n.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$elem.find(this.config.navItems),""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter)),this.$nav.on("click.onePageNav",n.proxy(this.handleClick,this)),this.getPositions(),this.bindInterval(),this.$win.on("resize.onePageNav",n.proxy(this.getPositions,this)),this},adjustNav:function(n,t){n.$elem.find("."+n.config.currentClass).removeClass(n.config.currentClass),t.addClass(n.config.currentClass)},bindInterval:function(){var n,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){n=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),n!==t.docHeight&&(t.docHeight=n,t.getPositions())},250)},getHash:function(n){return n.attr("href").split("#")[1]},getPositions:function(){var t,i,e,s=this;s.$nav.each(function(){t=s.getHash(n(this)),(e=n("#"+t)).length&&(i=e.offset().top,s.sections[t]=Math.round(i))})},getSection:function(n){var t=null,i=Math.round(this.$win.height()*this.config.scrollThreshold);for(var e in this.sections)this.sections[e]-i<n&&(t=e);return t},handleClick:function(i){var e=this,s=n(i.currentTarget),o=s.parent(),a="#"+e.getHash(s);o.hasClass(e.config.currentClass)||(e.config.begin&&e.config.begin(),e.adjustNav(e,o),e.unbindInterval(),e.scrollTo(a,function(){e.config.changeHash&&(t.location.hash=a),e.bindInterval(),e.config.end&&e.config.end()})),i.preventDefault()},scrollChange:function(){var n,t=this.$win.scrollTop(),i=this.getSection(t);null!==i&&((n=this.$elem.find('a[href$="#'+i+'"]').parent()).hasClass(this.config.currentClass)||(this.adjustNav(this,n),this.config.scrollChange&&this.config.scrollChange(n)))},scrollTo:function(t,i){var e=n(t).offset().top;n("html, body").animate({scrollTop:e-this.config.scrollOffset},this.config.scrollSpeed,this.config.easing,i)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},s.defaults=s.prototype.defaults,n.fn.onePageNav=function(n){return this.each(function(){new s(this,n).init()})}}(jQuery,window,document);class OnePageNav{constructor(){this._productSingleOnepagenav()}_productSingleOnepagenav(){if($("#onepage-single-product").length){var n=$("#onepage-single-product").height()+40;$("#onepage-single-product").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,scrollOffset:n,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(){}})}var t=$("#onepage-single-product");if(t.length>0){var i=$(window).width(),e=$("#tbay-header").height()+$("#tbay-breadscrumb").height();this._checkScroll(i,e,t),$(window).scroll(()=>{this._checkScroll(i,e,t)})}t.hasClass("active")&&jQuery("#wpadminbar").length>0&&t.css("top",$("#wpadminbar").height())}_checkScroll(n,t,i){n>=678&&$(window).scrollTop()>t?(i.addClass("active"),jQuery("#wpadminbar").length>0&&i.css("top",$("#wpadminbar").height())):i.removeClass("active")}}jQuery(document).ready(function(n){new OnePageNav});
